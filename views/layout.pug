//- layout.pug
doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title BookIt - Table Reservation System
    // Bootstrap CSS
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css", rel="stylesheet")
    // Custom CSS
    link(rel="stylesheet", href="/css/styles.css")
  body
    // Navigation Bar
    nav.navbar.navbar-expand-lg.navbar-dark.bg-dark
      .container-fluid
        img(src="/images/logo.png", alt="BookIt Logo", width="100", height="auto")
        a.navbar-brand(href="/") BookIt
        button.navbar-toggler(type="button", data-bs-toggle="collapse", data-bs-target="#navbarNav")
          span.navbar-toggler-icon
        .collapse.navbar-collapse#navbarNav
          ul.navbar-nav.ms-auto
            li.nav-item
              a.nav-link(href="/") Home
            li.nav-item
              a.nav-link(href="/menu") Menu 
            if user
              li.nav-item
                a.nav-link(href="/dashboard") Dashboard
              li.nav-item
                a.nav-link(href="/logout") Logout
            else
              li.nav-item
                a.nav-link(href="/register") Register
              li.nav-item
                a.nav-link(href="/login") Login

    // Main Content
    .container.mt-4
      block content

    // Conditionally Render Testimonials and CTA Sections
    if !isLoginPage && !isDashboardPage && !isReservePage
      // Testimonials Section
      section#testimonials.testimonials-section.bg-light.py-5
        .container
          h2.text-center.mb-5 What Our Users Say
          .row
            .col-md-4
              .testimonial.card.p-4
                p "BookIt made reserving a table so easy! I love how fast and convenient it is."
                p.author - Jane Doe
            .col-md-4
              .testimonial.card.p-4
                p "I use BookIt every time I plan a dinner with friends. Highly recommended!"
                p.author - John Smith
            .col-md-4
              .testimonial.card.p-4
                p "The confirmation is instant, and the service is reliable. Great job, BookIt!"
                p.author - Sarah Lee

      // Call-to-Action Section
      section#cta.cta-section.text-white.text-center.py-5
        .container
          h2 Ready to Reserve Your Table?
          p.lead Join thousands of happy users and start booking today.
          if user
            a.btn.btn-light.btn-lg(href="/dashboard") Go to Dashboard
          else
            a.btn.btn-light.btn-lg.me-2(href="/register") Sign Up Now
            a.btn.btn-outline-light.btn-lg(href="/login") Log In

    // Footer
    footer.bg-dark.text-white.text-center.py-4.mt-5
      .container
        p.mb-0 &copy; 2023 BookIt. All rights reserved.

    // Bootstrap JS (optional, for interactive components)
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js")